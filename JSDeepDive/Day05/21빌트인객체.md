## 빌트인 객체

### 자바스크립트 객체의 분류

- 표준 빌트인 객체

  - ECMAScript 사양에 정의된 객체.
  - 자바스크립트 실행환경과 상관없이 사용가능함.
  - 전역 객체의 프로퍼티로서 제공되어 전역변수처럼 언제나 참조 가능함.

- 호스트 객체

  - ECMAScript 사양에 정의되어 있지 않지만 JS 실행환경(브라우저, Node)에서 추가로 제공하는 객체
  - 브라우저 환경에서는 DOM, BOM, Canvas, XMLHttpRequest, fetch, requestAnimationFrame, SVG, Web Storage, Web Component, Web Worker와 같은 클라이언트 사이드 Web API를 호스트 객체로 제공함

- 사용자 정의 객체

  - 사용자가 직접 정의한 객체

### 표준 빌트인 객체

- JS는 40여개의 표준 빌트인 객체를 제공함(Object, String, Number, Boolean, Symbol 등)
- 생성자 함수 객체인 표준 빌트인 객체(Math, Reflect, JSON 등을 제외한 표준 빌트인 객체)는 프로토타입 메서드와 정적 메서드를 제공함.
- 생성자 함수 객체가 아닌 표준 빌트인 객체(Math, Reflect, JSON 등)은 정적 메서드만 제공함.
- 생성자 함수인 표준 빌트인 객체가 생성한 인스턴스의 프로토타입은 표준 빌트인 객체의 prototype 프로퍼티에 바인딩된 객체임.(String 인스턴스의 프로토타입은 String.prototype)
- 이를 통해 다양한 기능의 빌트인 프로토타입 메서드를 제공함. 또한 표준 빌트인 객체는 인스턴스 없이도 호출 가능한 빌트인 정적 메서드도 제공함.

### 원시값과 래퍼 객체

- 원시값인 문자열이 마치 객체처럼 동작하는 경우들이 있음.
- 원시값인 문자열, 숫자, 불리언 값의 경우 객체처럼 마침표 표기법(or 대괄호 표기법)으로 접근하면 js 엔진이 일시적으로 원시값을 연관된 객체로 변환해줌.
- 문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체를 래퍼 객체라고 함.
- 그 덕분에 원시값과 연관된 객체의 프로토타입의 메서드를 상속받아 사용이 가능해짐.
- 객체의 처리가 종료되면 내부 슬롯에 할당된 원시값으로 원래 상태로 되돌리고, 래퍼 객체는 가비지 컬렉션의 대상이 됨. (숫자, 불리언도 마찬가지)
- 심벌도 래퍼 객체를 생성하는데, 심벌은 Symbol 함수를 통해 생성해야하기에 다른 원시값과는 차이가 있음.
- String, Number, Boolean 생성자 함수를 new 연산자로 인스턴스 생성할 필요 없으며 권장하지 않음.
- null과 undefined는 래퍼 객체를 생성하지 않아 객체처럼 사용하면 에러가 발생함.

### 전역 객체

- 전역 객체는 런타임 이전에 JS엔진에 의해 어떤 객체보다 먼저 생성되는 특수한 객체이며, 어떤 객체에 속하지 않는 최상위 객체임
- ES11부터 전역 객체를 가리키는 식별자 globalThis를 도입함.
- 전역 객체가 최상위 객체라는 뜻은 프로토타입 상속 관계상 최상위 객체라는 뜻이 아님. 어떤 객체의 프로퍼티도 아니고, 계층적 구조상 표준 빌트인 객체와 호스트 객체 프로퍼티를 소유한다는 뜻임.

- 특징

  - 전역객체는 개발자가 의도적으로 생성할 수 없음.
  - 전역객체의 프로퍼티 참조할 시 window(또는 global) 생략가능함
  - 전역 객체는 모든 표준 빌트인 객체를 프로퍼티로 가지고 있음
  - 자바스크립트 실행환경에 따라 추가적인 프로퍼티와 메서드를 지님
  - var 키워드로 선언한 변수, 암묵적 전역, 전역함수가 전역 객체의 프로퍼티임.
  - let이나 const 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 아님.(let이나 const 키워드로 선언한 전역 변수는 보이지 않는 개념적 블록 내에 존재함.)
  - 브라우저 환경의 모든 js 코드는 하나의 전역 객체 window를 공유함.(스크립트 분리해도 하나의 전역을 공유함)

- 빌트인 전역 프로퍼티

  - Infinity

    - 무한대를 나타내는 숫자값 Infinity를 지님

  - NaN

    - Not a Number을 나타내는 숫자값 NaN을 지님(Number.NaN 프로퍼티와 같음)

  - undefined

    - 원시 타입 undefined를 값으로 지님.

- 빌트인 전역 함수

  - eval

    - eval 함수는 문자열 코드를 런타임에 평가하여 값을 생성하고 표현식이 아닌 문이라면 문자열 코드를 런타임에 실행함.
    - eval 함수는 기존의 스코프를 런타임에 동적으로 수정함. 단 strict mode와 let, const 키워드 사용시 자신의 자체적인 스코프를 생성함.
    - eval 함수는 사용자로부터 입력받은 콘텐츠를 실행하게 되면 보안에 매우 취약해짐. 또한 js 엔진에 의해 최적화가 수행되지 않아 처리 속도가 느려짐.
    - 따라서 eval 함수의 사용을 금지해야함.

  - isFinite

    - 유한수면 true반환, 무한수이면 false 반환, NaN으로 평가되는 값이면 false 반환

  - isNaN

    - 숫자가 아닌 경우 숫자로 타입을 변환한 후 검사를 수행함.
    - 값이 숫자값이 아니면 true, 숫자값이면 false 반환

  - parseFloat

    - 전달받은 문자열 인수를 부동 소수점 숫자, 실수로 해석하여 반환함.
    - 문자열을 실수로 해석하여 반환함.
    - 공백으로 구분된 문자열은 첫번째 문자열만 반환함. 만약에 첫번째 문자열이 숫자로 반환 안되면 NaN 반환
    - 앞뒤 공백은 무시됨.

  - parseInt

    - 전달받은 문자열 인수를 정수로 해석하여 반환함.
    - 만약에 전달받은 인수가 문자열이 아니면 문자열로 변환한 후, 정수로 해석하여 반환함.
    - 두번째 인수로 진법을 나타내는 기수를 전달하여 첫번째 인수의 숫자를 해당 진법으로 해석한 후 10진수로 계산하여 반환함.

  - encodeURI / decodeURI

    - encodeURI 함수는 URI를 문자열로 전달받아 이스케이프 처리를 위해 인코딩을 함.
    - 인코딩이란 URI 문자들을 이스케이프 처리하는 것을 의미. 이스케이프 처리는 어떤 시스템에서도 읽을 수 있는 아스키 문자 셋으로 변환하는 것.
    - 이스케이프 처리는 URL 내에서 의미를 갖는 문자, URL에서 올 수 없는 문자(한글,공백), 시스템에 의해 해석될 수 있는 문자를 처리하여 생길 수 있는 문제 예방하기 위함.
    - decodeURI 함수는 인코딩된 URI를 인수로 전달받아 이스케이프 처리 이전으로 디코딩함.

  - encodeURIComponent / decodeURIComponent

    - encodeURIComponent 함수는 URI 구성 요소를 인수로 전달받아 인코딩을 함.
    - decodeURIComponent 함수는 매개별수로 전달된 URI 구성 요소를 디코딩 함.

- 암묵적 전역

  - 선언하지 않은 식별자에 값을 할당하면 전역 개체의 프로퍼티가 됨.
  - 그 이유는 x=1;은 window.x=1 로 해석하여 전역 객체에 프로퍼티를 동적 생산하기 때문임. 이런 현상을 암묵적 전역이라고 함.
  - 암묵적 전역은 변수가 아니기에 호이스팅이 되지 않음. 또한 프로퍼티이기에 delete 연산자로 삭제 가능함.
