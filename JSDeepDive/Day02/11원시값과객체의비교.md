## 원시 값과 객체의 비교

- 원시 타입의 값은 변경 불가능한 값. 객체 타입의 값은 변경 가능한 값.
- 원시 값을 변수에 할당하면 실제 값이 저장됨. 객체를 변수에 할당하면 참조값이 저장됨.
- 원시값을 갖는 변수를 다른 변수에 할당하면 원시 값이 복사되어 전달. (값에 의한 전달)
- 객체를 가리키는 변수를 다른 변수에 할당하면 참조 값이 복사되어 전달. (참조에 의한 전달)

### 원시값

- 변경 불가능한 값

  - 원시 타입의 값은 변경 불가능한 값으로 한번 생성 시 읽기 전용 값으로 변경 불가능함. (그래서 신뢰성이 높음)
  - 변경 불가능하다는 것은 변수가 아니라 값에 대한 진술임. (상수는 재할당이 금지된 변수로 변경 불가능한 값과 상수은 같지 않음)
  - 변경 불가능한 값은 값을 직접 변경할 수 없기에 변수 값을 변경하기 위해서는 새로운 메모리 공간을 확보 후 값을 저장해야함.
  - 재할당 이외에 변수 값을 변경할 수 있는 방법이 없음.

- 문자열과 불변성

  - ECMAScript 사양에 의하면 문자열은 문자열의 문자 하나당 2비트, 숫자 타입은 8비트임. (1 && 1000은 8비트, "a"는 2비트, "aaa"는 6비트)
  - 문자열은 원시 타입으로 변경 불가능함.
  - 변수 str에 "hello" 할당 후 "world" 재할당 하면 "hello"와 "world"가 모두 메모리에 존재. 다만 식별자 str이 가르키는 메모리 공간이 달라졌을뿐.
  - 문자열은 유사 배열 객체이면서 이터러블임.
  - 유사 배열 객체란 배열처럼 인덱스로 프로퍼티 값에 접근할 수 있고, length 프로퍼티를 갖는 객체임.
  - 문자열처럼 원시 값을 객체처럼 사용하면 원시 값을 감싸는 래퍼 객체로 자동변환됨.
  - 그러나 문자열의 일부 문자를 변경해도 반영되지 않음. 왜냐하면 문자열은 변경 불가능한 값이기 때문임.

- 값에 의한 전달

  - 값에 의한 전달이란 원시값을 갖는 변수를 다른 변수에 할당하면 원시 값이 복사되어 전달하는 것임.
  - 그런데 값에 의한 전달이라는 용어는 ECMAScript 사양에 나오지 않아서 엔진마다 다르게 동작할 수 있음. (공유에 의한 전달이라고 표현하는 경우도 있음.)
  - 따라서 var score = 80; var copy = score;은 두 가지 의미로 해석 될 수 있음.
  - 새로운 80을 생성해서 copy 메모리 주소를 전달 or score의 변수값에 대한 메모리 주소를 전달.
  - 그래도 재할당하게 되면 두 변수의 원시 값은 서로 다른 메모리 공간에 저장되어 서로 간섭할 수 없게 될 것임.

### 객체

- 객체는 메모리 공간의 크기를 사전에 정할 수가 없음.
- 객체를 관리하는 방식은 브라우저 제조사마다 다를 수 있음.
- 자바스크립트의 객체는 사전에 정의를 하지 않고 동적으로 프로퍼티와 메서드를 추가할 수 있음.
- 그렇기에 다른 클래스 기반 언어에 비해 성능이 떨어질수도 있지만, v8엔진은 히든 클래스라는 방식을 사용해 c++과 유사한 성능을 보임.

- 변경 가능한 값

  - 객체 타입의 값은 변경 가능한 값.
  - 객체를 할당한 변수에는 해당 객체가 실제로 저장된 메모리 공간의 주소가 저장되어 있음. 이를 참조값이라고 부름.
  - 객체는 재할당 없이 직접 변경이 가능한데, 이는 객체 생성 및 관리가 복잡하고 비용이 많이 들기에, 이를 절약하고 성능을 향상시키기 위함임.
  - 그러나 단점으로 여러개의 식별자가 하나의 객체를 공유할 수도 있음.
  - 얕은 복사는 한단계까지만 복사하는 것. 따라서 참조값을 복사할 수도 있음. 깊은 복사는 완전한 복사본을 만든다는 것.

- 참조에 의한 전달

  - 객체에 가리키는 변수를 다른 변수에 할당하면 참조값이 복사되는데 이를 참조에 의한 전달이라고 함.
  - 두 변수에는 동일한 객체를 가리키게 되어, 두개의 식별자가 하나의 객체를 공유하는 것임.
  - 값에 의한 전달과 참조에 의한 전달은 사실 식별자가 기억하는 메모리 공간에 저장되어 있는 값을 복사해서 전달하는 것이라 동일하다고 볼 수도 있음.
  - 원시 값과 참조 값을 구별한다는 의미에서 값에 의한 전달, 참조에 의한 전달로 나눈 것.
